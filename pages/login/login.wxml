<view class="login-page">
  <!-- Logo 区域 -->
  <view class="logo-section">
    <view class="logo-icon">
      <van-icon name="manager" size="80px" color="#1989fa" />
    </view>
    <view class="app-title">师傅端</view>
    <view class="app-subtitle">工单管理系统</view>
  </view>

  <!-- 表单区域 -->
  <view class="form-section">
    <van-cell-group inset>
      <van-field
        value="{{ phone }}"
        type="tel"
        label="手机号"
        placeholder="请输入手机号"
        maxlength="11"
        bind:change="onPhoneChange"
        clearable
      />
      <van-field
        value="{{ code }}"
        type="digit"
        label="验证码"
        placeholder="请输入验证码"
        maxlength="6"
        bind:change="onCodeChange"
        use-button-slot
      >
        <van-button
          slot="button"
          size="small"
          type="primary"
          disabled="{{ countdown > 0 }}"
          bind:click="sendCode"
        >
          {{ countdown > 0 ? countdown + 's' : '获取验证码' }}
        </van-button>
      </van-field>
    </van-cell-group>
  </view>

  <!-- 登录按钮 -->
  <view class="action-section">
    <van-button
      type="primary"
      block
      round
      size="large"
      loading="{{ loading }}"
      disabled="{{ !canLogin }}"
      bind:click="login"
    >
      登录
    </van-button>
  </view>
</view>

<van-toast id="van-toast" />
